<cranix-toolbar></cranix-toolbar>
<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-toolbar>
        <ion-card-title>{{ticket.title}}</ion-card-title>
        <ion-buttons slot="end">
          <ion-button (click)="deleteTicket()">
            <ion-icon slot="icon-only" name="trash"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
      <ion-card-subtitle> {{ticket.recDate | date:'yy-MM-dd HH:mm'}} {{ticket.cephalixInstituteId | idToName:'institute'}}<br>
        {{ticket.email}}:
        {{ticket.lastname}},{{ticket.firstname}}</ion-card-subtitle>
    </ion-card-header>
  </ion-card>

  <ion-card *ngFor="let article of articles">
    <ion-card-header>
      <ion-toolbar >
        <ion-card-subtitle [color]="article.seen ? 'success' : 'danger'">{{article.recDate | date:'yy-MM-dd HH:mm'}}
          <ion-icon *ngIf="article.articleType == 'O'" name="play-back"></ion-icon>
          <ion-icon *ngIf="article.articleType == 'I'" name="play-forward"></ion-icon>
        </ion-card-subtitle>
        <ion-buttons slot="end">
          <ion-button [color]="article.seen ? 'success' : 'danger'" fill="solid" (click)="setSeenOnArticle(article)">
            <ion-icon slot="icon-only" name="checkmark"></ion-icon>
          </ion-button>
          <ion-button *ngIf="article.articleType == 'I'" fill="solid" (click)="answerArticle(article)">
            <ion-icon slot="icon-only" name="arrow-undo"></ion-icon>
          </ion-button>
          <ion-button *ngIf="article.articleType == 'O'" fill="solid" (click)="answerArticle(article)">
            <ion-icon slot="icon-only" name="build-outline"></ion-icon>
          </ion-button>
          <ion-button fill="solid" (click)="deleteArticle(article)">
            <ion-icon slot="icon-only" name="trash"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-card-header>
    <ion-card-content>
      <pre>{{article.text}}</pre>
    </ion-card-content>
  </ion-card>
</ion-content>