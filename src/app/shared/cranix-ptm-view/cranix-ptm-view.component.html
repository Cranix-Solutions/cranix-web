@if(colDefIsReady) {
<ag-grid-angular style="width: 100%; height: 100%;" class="{{authService.settings.agGridThema}}"
    [rowHeight]="authService.settings.rowHeight" [rowData]="rowData" [columnDefs]="columnDefs"
    [defaultColDef]="defaultColDef" [context]="context" (gridReady)="onGridReady($event)" id="agGridTable">
</ag-grid-angular>
}
<ion-modal [isOpen]="isRegisterEventOpen">
    <ng-template>
        @if(authService.isAllowed('parent.manage')){
        <ion-header color="primary">
            <ion-toolbar color="primary">
                <ion-title>{{'Register parent for the event'|translate}}</ion-title>
                <ion-buttons slot="end">
                    <ion-button class="ion-no-margin" (click)="doRegister()">
                        <ion-icon slot="icon-only" color="success" name="checkmark-sharp"></ion-icon>
                    </ion-button>
                    <ion-button fill="clear" size="small" (click)="isRegisterEventOpen = false">
                        <ion-icon slot="icon-only" color="danger" name="close"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-toolbar>
        </ion-header>
        <ion-content>
            <ion-list>
                <ion-item>
                    <ion-label>{{'Time'|translate}}</ion-label><ion-label>{{selectedEvent.start|date:'HH:mm'}}</ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>{{'Teacher'|translate}}</ion-label><ion-label>{{selectedPTMinRoom.teacher.surName}},
                        {{selectedPTMinRoom.teacher.givenName}} </ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>{{'Room'|translate}}</ion-label><ion-label>{{selectedPTMinRoom.room.name}}, {{selectedPTMinRoom.room.description}}
                    </ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>{{'Select parent for the event'|translate}}</ion-label>
                    <ionic-selectable #ionicSelectUsers itemValueField="id" itemTextField="fullName"
                        [isMultiple]="false" [(ngModel)]="selectedEvent.parent" [ngModelOptions]="{standalone: true}"
                        [items]="parents" [canSearch]="true">
                    </ionic-selectable>
                </ion-item>
            </ion-list>
        </ion-content>
        }@else{
        <ion-header color="primary">
            <ion-toolbar color="primary">
                <ion-title>{{'Register yourself to an event'|translate}}</ion-title>
                <ion-label></ion-label>
                <ion-buttons slot="end">
                    <ion-button class="ion-no-margin" (click)="doRegister()">
                        <ion-icon slot="icon-only" color="success" name="checkmark-sharp"></ion-icon>
                    </ion-button>
                    <ion-button fill="clear" size="small" (click)="isRegisterEventOpen = false">
                        <ion-icon slot="icon-only" color="danger" name="close"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-toolbar>
        </ion-header>
        <ion-content>
            <ion-list>
                <ion-item>
                    <ion-label>{{'Time'|translate}}</ion-label><ion-label>{{selectedEvent.start|date:'HH:mm'}}</ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>{{'Teacher'|translate}}</ion-label><ion-label>{{selectedPTMinRoom.teacher.surName}},
                        {{selectedPTMinRoom.teacher.givenName}} </ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>{{'Room'|translate}}</ion-label><ion-label>{{selectedPTMinRoom.room.name}}, {{selectedPTMinRoom.room.description}}
                    </ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>{{'Select your child for the event' | translate}}</ion-label>
                    <ionic-selectable #ionicSelectUsers itemValueField="id" itemTextField="fullName"
                        [isMultiple]="false" [(ngModel)]="selectedEvent.parent" [ngModelOptions]="{standalone: true}"
                        [items]="parents" [canSearch]="true">
                    </ionic-selectable>
                </ion-item>
            </ion-list>
        </ion-content>
        }
    </ng-template>
</ion-modal>